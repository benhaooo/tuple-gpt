# 音频识别工具使用说明

## 功能概述

音频识别工具是基于 OpenAI Whisper API 的语音转文字工具，支持多种音频格式的识别和转换。

## 主要功能

### 1. 文件上传
- **支持格式**: MP3、WAV、M4A、FLAC、AAC、OGG、WMA、MP4
- **上传方式**:
  - 点击上传区域选择文件
  - 拖拽文件到上传区域
- **文件大小限制**: 100MB
- **MP4 支持**: 支持包含音频轨道的 MP4 视频文件

### 2. 识别配置
- **语言选择**: 支持自动检测或手动选择语言（中文、英文、日文、韩文等）
- **输出格式**: 
  - 纯文本 (text)
  - JSON 格式 (json)
  - SRT 字幕 (srt)
  - VTT 字幕 (vtt)

### 3. API 配置
- **API URL**: OpenAI Whisper API 端点
- **API Key**: OpenAI API 密钥
- **模型**: whisper-1

### 4. 结果操作
- **复制全部**: 一键复制完整识别结果到剪贴板
- **复制文本**: 当结果为 JSON 格式时，智能提取并复制纯文本内容
- **下载**: 将结果保存为文本文件
- **清除**: 清空当前识别结果

## 使用步骤

### 第一步：配置 API
1. 点击右上角的"配置"按钮
2. 填入 OpenAI API URL（默认：`https://api.openai.com/v1/audio/transcriptions`）
3. 填入您的 OpenAI API Key
4. 选择模型（默认：whisper-1）
5. 点击"保存配置"

### 第二步：上传音频/视频文件
1. 点击上传区域或直接拖拽音频/视频文件
2. 系统会自动验证文件格式和大小
3. 上传成功后会显示文件信息
4. 对于 MP4 视频文件，系统会提取其中的音频轨道进行识别

### 第三步：设置识别选项
1. 选择音频语言（可选，默认自动检测）
2. 选择输出格式（默认纯文本）

### 第四步：开始识别
1. 点击"开始识别"按钮
2. 等待上传和处理完成
3. 查看识别结果

### 第五步：处理结果
1. **复制全部**: 复制完整的识别结果到剪贴板
2. **复制文本**: 当输出格式为 JSON 时，智能提取纯文本内容复制
3. **下载结果**: 将结果保存为文本文件
4. **清除结果**: 清空结果重新识别

## 智能文本提取功能

### 功能说明
当识别结果为 JSON 格式时，系统会自动检测并提供"复制文本"按钮，智能提取其中的纯文本内容。

### 支持的 JSON 格式
- **标准 Whisper 响应**: 自动提取 `text` 字段
- **分段响应**: 自动合并 `segments` 中的所有文本
- **其他格式**: 智能识别 `transcript` 等常见字段

### 使用场景
- 当需要纯文本内容用于进一步编辑时
- 避免复制包含时间戳、置信度等元数据的完整 JSON
- 快速获取干净的文本内容用于其他应用

## 技术特性

### 界面设计
- 响应式设计，支持移动端和桌面端
- 深色/浅色主题自适应
- 现代化的 UI 组件和交互效果

### 错误处理
- 文件格式验证
- 文件大小检查
- API 错误提示
- 网络连接异常处理

### 用户体验
- 实时上传进度显示
- 拖拽上传支持
- 配置信息本地保存
- 操作状态反馈

## 注意事项

1. **API Key 安全**: 请妥善保管您的 OpenAI API Key，不要在公共场所使用
2. **文件大小**: 建议上传文件不超过 25MB 以获得最佳性能
3. **网络连接**: 确保网络连接稳定，大文件上传可能需要较长时间
4. **音频质量**: 音频质量越好，识别准确率越高
5. **语言设置**: 正确设置音频语言可以提高识别准确率

## 故障排除

### 常见问题

**Q: 上传文件失败**
A: 检查文件格式是否支持，文件大小是否超限

**Q: 识别失败**
A: 检查 API 配置是否正确，网络连接是否正常

**Q: 识别结果不准确**
A: 尝试设置正确的音频语言，或检查音频质量

**Q: 无法复制结果**
A: 检查浏览器是否支持剪贴板 API

### 技术支持

如遇到技术问题，请检查：
1. 浏览器控制台是否有错误信息
2. API Key 是否有效且有足够余额
3. 网络连接是否正常
4. 音频文件是否损坏

## 更新日志

### v1.0.0 (2024-06-17)
- 初始版本发布
- 支持基本的音频识别功能
- 集成 OpenAI Whisper API
- 支持多种音频格式和输出格式
- 实现配置管理和结果操作功能
